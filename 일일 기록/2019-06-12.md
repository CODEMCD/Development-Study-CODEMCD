# 2019-06-12 일기

## service 패키지
- DAO는 데이터베이스의 한 명령 단위
- service 패키지에 속하는 클래스는 데이터베이스 트랜잭션 단위

## 데이터베이스 트랜잭션 처리
- 로또 게임 트랜잭션 설정, 로또 게임 입력 중간에 잘못된 입력은 에러 처리를 하여 다시 입력하도록 하지만, 중간 입력 후에 웹을 종료하거나 예상할 수 없는 에러가 발생했을 때 중간에 데이터가 테이블에 저장되어 한 회차에 대한 모든 로또 정보가 저장되지 않는다. 이를 해결하기 위해 트랜잭션을 설정하여 로또 게임이 정상적으로 결과가 나왔을 때 트랜잭션을 종료하여, 현재까지 삽입한 데이터를 커밋한다.
- 위 오류는 데이터베이스에서 처리할 것이 아니라 웹에서 처리해야 할 것 같다.

## session 사용
- 전역변수로 서버에서 여러 웹 페이지 정보를 관리하면, 여러 사용자가 사용하는 환경에서 데이터를 정상적으로 보존할 수 없다.
