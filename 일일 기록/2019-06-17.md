# 2019-06-17 일기

## 객체지향 기본
객체 지향의 주요 특성은 재사용성이다. 재사용성의 방법은 상속, 조합 두 가지가 있다.

### 상속
상속은 변경의 유연함이 부족하다. 상속을 통한 재사용의 단점은 다음과 같다.
- 상위 클래스 변경의 어려움
  - 하위 클래스는 상위 클래스를 의존한다. 그러므로 상위 클래스가 변경되면 하위 클래스도 변경될 위험이 크다.
- 클래스의 불필요한 증가
  - 보통 요구사항이 증가하면 클래스의 개수가 증가한다.
- 상속 오용
  - 상속은 Is-A 관계에서만 사용해야 한다.
- 상속은 재사용보다 기능 확장에 사용한다.

### 조립(Composition)
조립의 예는 한 객체가 다른 객체를 조립해서 필드로 가지는 것이다.
- 조립은 대상을 런타임에 교체 가능하다.
- 상속의 단점을 보완하기 때문에 재사용을 고려할 때는 상속보다 조립을 먼저 생각하자.
- 조립은 런타임 구조가 복잡해지는 단점이 있지만 변경의 유연함을 얻을 수 있으므로 조립을 사용하는 것이 좋다.

### 위임(Delegation)
위임은 내가 할 일을 다른 객체에 넘기는 것이다. 주로 조립 방식을 사용한다.
- 필드로 다른 객체를 선언하거나, 객체를 새로 생성하는 방법을 쓴다.

## 객체지향 설계 원칙: SOLID
### 단일 책임 원칙(Single responsibility principle, SRP)
- 객체 지향의 기본은 책임을 객체에 할당하는 것이다.
- 단일 책임 원칙은 클래스마다 단 한 개의 책임을 할당하는 것이다.
- 만약 단일 책임 원칙을 지키지 않는다면?
  - 변경이 어려워진다.
  - 재사용이 어려워진다.
- 책임이란 변화에 대한 것이다.
  - 책임을 설정하는 것은 프로그래밍 경험에서 나온다.
  - 클래스의 사용자가 서로 다른 메서드를 사용한다면 다른 책임일 가능성이 높다.

### 개방 폐쇄 원칙(Open-closed principle, OCP)
- 확장에는 열려있고, 변경에는 닫혀있다.
  - 기능을 변경하거나 확장은 가능하지만
  - 그 기능을 사용하는 코드는 변경해서는 안된다.
- OCP를 지키는 방법은
  - 추상화 - 인터페이스 추출
  - 다형성 - 상속
- OCP가 깨질 때
  - 다운 캐스팅
  - ```if-else``` 블록
- OCP는 변화하는 부분을 추상화하는 것을 통해 변경의 유연함을 가져온다.
