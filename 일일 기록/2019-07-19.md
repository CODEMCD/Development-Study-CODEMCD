# 2019-07-19

## Spring Boot Logging
- logging은 spring boot web에 포함되어 있다.
- ```System.out```은 더이상 사용하면 안된다.
- 설정 파일
  - ```logger```를 가지고 실행하는 것이 ```appender```이다.
  - ```logger```와 ```appender```를 맵핑할 수 있다.
  - ```appender```를 사용해서 콘솔, 파일로 로깅을 저장할 수 있고, 기능별로 다르게 할 수도 있다.
- ```info```까지가 디폴트인데, 이는 개발 환경이 다를 수 있기 때문이다.(배포, 테스트 환경 등)
- log는 배포파일에 포함안되게 할 수 있다.
- ```System.out```와 ```logging```의 차이
  - ```System.out```은 메모리에 적는 것이기 때문에 매우 느리다.
    - 예전에는 이를 주석처리하여 퍼포먼스를 유지했다.
  - ```logging```은 몇 번째 라인에서 에러났는지 표시할 수 있다.
  - ```logging```은 몇 번 쓰레드도 표시할 수 있다.(이도 디버깅하는데 중요)


## 피드백
- 도메인 setter 사용하는 것
  - update로 이름 바꿀것
  - dto보단 vo로 만들어도 될것
  - response, request는 dto를 안붙여도 됨
- 패키지 구조
  - 패키지 구조는 나쁘지 않음
  - interceptor, valid는 web 패키지 아래로 가는 것이 좋음
- 서비스 메서드 이름 컨벤션
  - save보단 create, post
  - 서비스는 딱히 컨벤션이 없음
- Exceptionhandler 클래스 이름 변경
- 실행 쿼리 보여주기 - ?를 실제 값으로 보이게 하기
- inport.sql을 사용하면 스프링에서 자동으로 쿼리를 시작함(jpa)
- findAll()에서 직접 List<Article> 만들기 - Crud보다 Jpa 사용, List를 반환하기 떄문
- 명시적으로 할 것인지, 바로 삽입할 지 결정
- 상수화 - 특히 자주 쓰는 것
- Dto에서 도메인에서 만들거나 서비스에서 만드는 것은 취향차이
- 유효성 검사는 정답은 없다. 메서드든 어노테이션이든
- article 도메인 테스트 추가
- dto는 서비스에서, 컨트롤러에서는 제이슨, 세션 설정 정도만?
- 서비스 패키지안에 dto가 들어갈수 있다.
- 레이어드 아키텍처에 맞게, 위는 아래를 알수있고, 아래는 위를 절대 알면 안됨
  - 서포트는 독립적인 레이어
- 서비스 테스트와 컨트롤러 테스트는 다를 수 있다.
- 컨트롤러는 단위테스트를 잘 하지 않음
