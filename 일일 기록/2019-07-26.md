# 2019-07-26

## JPA 객체 관계 매핑
- ORM: 객체를 테이블에 매핑하는 방법이다.
- 자바 클래스의 필드에서 id값을 외래키로 설정하면 ```getter```를 써야 한다. 이는 객체지향적이지 못하다. 그래서 객체 자체를 외래키로 설정해야한다.
- 외래키가 있는 테이블이 주인인 것이 좋다.

### 관계 종류
- ```@OneToOne```
  - 단방향
  - 다른 엔티티에 대한 연결 지정
- ```@ManyToOne```
  - 단방향
- ```@OneToMany```

### column 어노테이션 사용
- 길이 제한, NotNull 설정은 기본

### 테스트
- TestEntityManager는 기본으로 H2 데이터베이스를 사용한다.
  - gradle에 의존성을 추가해야한다.

### ```FetchType```
- 쿼리 확인해볼 것

## 포비의 말
- 양방향을 남용하지 마라.
  - 양방향은 최대한 미뤄라, 최대한 단방향으로 설계하라
- 단방향을 하면 어느쪽에서 객체를 참조하는지가 중요하다.
  - 요구사항에 따라 달라 질 수 있다.
  - 사용자가 게시글 목록을 조회하는 요구사항이 있다.
    - 게시글을 보여줄때 사용자 이름을 보여준다면, 양방향이 편하다고 생각할 수 있다.
    - 그러면, User클래스에 요구사항이 증가하면 복잡도가 매우 증가한다.
  - 이러한 User클래스처럼 많은 기능에서 사용하는 것을 God클래스라고 한다.
- 가능한 ```LAZY``` 상태를 사용하자.
- JPA로만 성능 이슈를 해결할 수 없을 수도 있다. 그 중 캐시를 활용할 수 있다.


## 미션 3 Todo
- HomeController
- LoginController
- id
